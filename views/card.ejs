<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>SNU Leetcode</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi"
      crossorigin="anonymous"
    />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Signika:wght@500&family=Sono:wght@500&family=Ubuntu+Condensed&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="./css/style.css" type="text/css">
  </head>
  <script>
    let p;
  </script>

  <body>
    <% const marks=(a,b,c)=>{ return a*2+b*3+c*5; } %> 
    <%- include("header.html") %>

    <div id="section1">
      <div class="card" id="card" style="width: 18rem">
        <!-- <img class="card-img-top" src="..." alt="Card image cap"> -->
        <div class="card-body">
          <h5 class="card-title" id="name">Name: <%= profileData[0].name %></h5>
          <h6 class="card-title" id="username">
            Username: <%= profileData[0].username %>
          </h6>
          <h6 class="card-title" id="enrollment">
            Enrollment: <%= profileData[0].enrollment %>
          </h6>
        </div>
        <ul class="data">
          <li class="problem" id="easy">
            Easy problem: <%= profileData[0].easyProblemSolved%>
          </li>
          <li class="problem" id="medium">
            Medium problem: <%= profileData[0].mediumProblemSolved%>
          </li>
          <li class="problem" id="hard">
            Hard problem: <%= profileData[0].hardProblemSolved%>
          </li>
        </ul>
        <div class="card-body">
          <p class="final" id="mark"
            >Marks: <%=
            marks(profileData[0].easyProblemSolved,profileData[0].mediumProblemSolved,profileData[0].hardProblemSolved)
            %></p
          >
        </div>
      </div>
      <br />
    </div>
    <% var test = profileData // console.log(test) %> <%- include("footer.html")
    %>
    <script>
      var getTest = `<%-JSON.stringify(test) %>`;
      let pq = JSON.parse(getTest);
      let section1 = document.getElementById("section1");
      let card = document.getElementById("card");
      console.log(card.cloneNode(true));
      //console.log(newCard);
      for (let i = 1; i < pq.length; i++) {
        let newCard = card.cloneNode(true);
        newCard.querySelector("#name").innerHTML = "Name: " + pq[i].name;
        newCard.querySelector("#enrollment").innerHTML =
          "Enrollment: " + pq[i].enrollment;
        newCard.querySelector("#username").innerHTML =
          "Username: " + pq[i].username;
        newCard.querySelector("#easy").innerHTML =
          "Easy problem: " + pq[i].easyProblemSolved;
        newCard.querySelector("#medium").innerHTML =
          "Medium problem: " + pq[i].mediumProblemSolved;
        newCard.querySelector("#hard").innerHTML =
          "Hard problem: " + pq[i].hardProblemSolved;
        newCard.querySelector("#mark").innerHTML =
          "Marks: " +
          (pq[i].easyProblemSolved * 2 +
            pq[i].mediumProblemSolved * 3 +
            pq[i].hardProblemSolved * 5);
        section1.appendChild(newCard);
      }
      //  let cloned=card.cloneNode(true);
      //  console.log(cloned)
      //  section1.appendChild(cloned)
    </script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-OERcA2EqjJCMA+/3y+gxIOqMEjwtxJY7qPCqsdltbNJuaOe923+mo//f6V8Qbsw3"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
